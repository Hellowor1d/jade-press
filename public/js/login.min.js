!function(){var t=Vue.$alert;new Vue({el:"body",data:{loaded:!0,formData:{},form1:null,errCount:0,onSubmit:!1,captchaHtml:""},methods:{checkNavBar:function(){$(".navbar-toggler").is(":visible")?$("#menus").removeClass("in"):$("#menus").addClass("in")},formHook2:function(t){this._form2=t},setDirty:function(){this._form2.setDirty()},refreshCaptcha:function(t){this.captchaHtml='<img alt="" src="'+(t||h5.host+"/captcha")+"?"+(new Date).getTime()+'" />'},submit:function(){function r(r){o.onSubmit=!1;var n=r;n.errorMsg||n.errs?(t(n.errorMsg||n.errs.join(";"),"danger","#msg"),o.errCount=n.errCount,o.refreshCaptcha()):location.href=n.redirect}function n(r){o.onSubmit=!1,t("login failed","danger","#msg")}var o=this;if(!o.onSubmit)return o.form1.$invalid?this.setDirty():void(o.form1.$invalid||(o.onSubmit=!0,$.ajax2({type:"post",url:h5.host+"/login",data:o.formData}).then(r,n)))}}})}();