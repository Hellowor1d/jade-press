.form-group

	label
		|content( jade(pug) template
		a(href='http://jade-lang.com/', target='_blank', title='what is jade(pug)')
			span.icon-help-circled
		|)

	.files-control

		#file-err2

		.card.bg-info.card-inverse.card-warning(v-show='formData2.featuredFile._id')
			.card-block 
				.small
					|{{formData2.featuredFile._id}}.{{formData2.featuredFile.ext}}
					span.label.label-default featured
					a.pull-xs-right.text-muted(title='unset featured file', href='#', @click.prevent='unsetFeatured(formData2)')
						i.icon-cancel-circled
				.img(v-if='isImg(formData2.featuredFile)')
					a(:href='createImgSrc(formData2.featuredFile)', target='_blank')
						img(:src='createImgSrc(formData2.featuredFile)', alt='formData2.featuredFile.filename', height=30)

		ul.nav.nav-tabs
			li.nav-item.m-l-1
				a.nav-link(href='#file-upload', @click.prevent='setFileTab("file-upload")', :class='{ "active": fileTab === "file-upload" }')
					|upload file
					span.text-danger ({{formData2.files.length}})
			li.nav-item
				a.nav-link(href='#file-list', @click.prevent='setFileTab("file-list")', :class='{ "active": fileTab === "file-list" }')
					|select file
					span.text-danger ({{filesTotal}})

		.tab-contents.p-y-1
			.tab-content(v-show='fileTab === "file-upload"')

				p
					label.file
						input(type='file', id='file2', multiple)
						span.file-custom
					span.label.label-success(v-show='uploadProgress > 0 && uploadProgress < 100') {{uploadProgress}}/100

				ul.list-group
					li.list-group-item(v-for='f in formData2.files')
						.small

							|{{f._id}}.{{f.ext}}

							span.label.label-default(v-show='f._id === formData2.featuredFile._id') featured

							a.m-x-1(href='#', @click.prevent='remove(f, formData2.files)')
								i.icon-cancel-circled
								span delete

							a.m-x-1(href='#', @click.prevent='insertFile(f, "formData2")')
								span insert

							a.m-x-1(href='#', @click.prevent='setAsFeatured(f, formData2)')
								i.icon-paper-plane
								span set as featured

						.img(v-if='isImg(f)')
							a(:href='createImgSrc(f)', target='_blank')
								img(:src='createImgSrc(f)', alt='f.filename', height=30)

			.tab-content(v-show='fileTab === "file-list"')
				#msgf
				.form-group
					.input-group
						input.form-control(type='text', v-model='formDataf.name', @change='getFiles()', debounce=500)
						span.input-group-btn
							button.btn.btn-secondary(@click='getFiles()')
								span(v-show='!onloadFiles') search
								span(v-show='onloadFiles') loading...

				div(v-show='filesTotal > formDataf.pageSize')
					zpagenav(:page.sync='formDataf.page', :page-size='formDataf.pageSize', :total='filesTotal', :max-link='formDataf.maxLink')

				ul.list-group
					li.list-group-item(v-for='f in files')
						.small

							|{{f._id}}.{{f.ext}}

							span.label.label-default(v-show='f._id === formData2.featuredFile._id') featured

							a.m-x-1(href='#', @click.prevent='insertFile(f, "formData2")')
								span insert

							a.m-x-1(href='#', @click.prevent='setAsFeatured(f, formData2)')
								i.icon-paper-plane
								span set as featured

						.img(v-if='isImg(f)')
							a(:href='createImgSrc(f)', target='_blank')
								img(:src='createImgSrc(f)', alt='f.filename', height=30)

				div(v-show='filesTotal > formDataf.pageSize')
					zpagenav(:page.sync='formDataf.page', :page-size='formDataf.pageSize', :total='filesTotal', :max-link='formDataf.maxLink')

	div(name='content', v-form-ctrl='formData2.content', maxlength=10000)
			jadeeditor(:content.sync='formData2.content', :rows='rows', :id='editor2')
	div(v-show='form2.content.$dirty && form2.content.$invalid')
		.alert.alert-danger(v-show='form2.content.$error.maxlength') more than 10000 chars